{
  "model_type": "random_forest",
  "symbol": "BTCUSD",
  "timeframe": "M5",

  "data_collection": {
    "training_period_days": 30,
    "lookback_candles": 100,
    "min_data_points": 10000
  },

  "features": [
    "rsi_14",
    "macd_line",
    "macd_signal",
    "atr_14",
    "bb_upper",
    "bb_lower",
    "bb_width",
    "volume_ratio",
    "price_change_1min",
    "price_change_5min",
    "candle_body_ratio",
    "upper_shadow_ratio",
    "lower_shadow_ratio",
    "engulfing"
  ],

  "labeling": {
    "method": "sltp_aware",
    "lookahead_candles": 18,
    "profit_threshold": 0.0015,
    "stop_loss_threshold": 0.0010,
    "label_classes": ["buy", "sell", "hold"],
    "_comment_lookahead": "18 candles on M5 = 1.5 hours. Previous 90 candles (7.5h) was too long for scalping and produced noisy labels.",
    "_comment_thresholds": "profit_threshold and stop_loss_threshold now aligned with config.json SL/TP ratio (1.5:1 TP:SL). At BTC ~$100K: SL=$100 (0.10%), TP=$150 (0.15%)."
  },

  "model_params": {
    "n_estimators": 100,
    "max_depth": 10,
    "min_samples_split": 20,
    "min_samples_leaf": 10,
    "random_state": 42
  },

  "training": {
    "test_size": 0.15,
    "validation_size": 0.15,
    "retrain_frequency_days": 7,
    "cross_validation_folds": 5
  },

  "prediction": {
    "confidence_threshold": 0.65,
    "min_probability_diff": 0.15,
    "max_hold_probability": 0.55,
    "_comment": "Raised confidence from 0.35 to 0.65 to filter out low-quality signals. Fewer trades but higher win rate."
  },

  "risk_management": {
    "min_atr_threshold": 50,
    "max_trades_per_day": 10,
    "min_win_rate": 0.50
  },

  "paths": {
    "model_file": "models/random_forest_btcusd.pkl",
    "scaler_file": "models/scaler_btcusd.pkl",
    "training_data": "models/training_data_btcusd.csv",
    "performance_log": "models/ml_performance.csv"
  }
}
